<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multidimensional Elo Ratings • mELO</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Multidimensional Elo Ratings">
<meta property="og:description" content="An implementation of DeepMinds multidimensional Elo rating (mELO) 
    approach for evaluating agents. The mELO rating system has the desirable properties of being able 
    to handle cyclic interactions and is better behaved in the presence of 
    redundant copies of agents or tasks. This package uses code directly from 
    Alec Stephenson and Jeff Sonass excellent PlayerRatings package (v1.0-3, 2019-02-22).">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mELO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/01_introduction.html">Introduction to mELO ratings</a>
    </li>
    <li>
      <a href="articles/02_afl.html">Application of mELO ratings to AFL matches</a>
    </li>
    <li>
      <a href="articles/03_noise.html">Impact of noisy or probabilistic outcomes in mELO models</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dclaz/mELO/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="melo-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#melo-" class="anchor"></a>mELO <img src="reference/figures/logo.png" align="right" height="139">
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>An R implementation of DeepMind’s <a href="https://arxiv.org/abs/1806.02643">multidimensional Elo rating</a> (mELO) approach for evaluating agents. The mELO rating system has the desirable properties of being able to handle cyclic, non-transitive interactions and is better behaved in the presence of redundant copies of agents or tasks.</p>
<p><a href="https://arxiv.org/abs/1806.02643">Balduzzi, et al. (2018)</a> proposed that a rating/evaluation method should have the following properties:</p>
<ul>
<li>
<strong>P1.</strong> <em>Invariant</em>: adding redundant copies of an agent or task to the data should make no difference.</li>
<li>
<strong>P2.</strong> <em>Continuous</em>: the evaluation method should be robust to small changes in the data.</li>
<li>
<strong>P3.</strong> <em>Interpretable</em>: hard to formalize, but the procedure should agree with intuition in basic cases.</li>
</ul>
<p>Typical methods for performing pairwise comparisons such as Elo or Glicko violate <strong>P1</strong> and can result in poor evaluations of agents and poor predictions of outcomes.</p>
<p>This package uses code directly from Alec Stephenson and Jeff Sonas’s excellent <a href="https://cran.r-project.org/package=PlayerRatings">PlayerRatings</a> package (v1.0-3, 2019-02-22).</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the <code>mELO</code> package from github using:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu">install_github</span>(<span class="st">"dclaz/mELO"</span>)</pre></div>
<p>and it can be loaded using:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">mELO</span>)</pre></div>
</div>
<div id="vignettes" class="section level2">
<h2 class="hasAnchor">
<a href="#vignettes" class="anchor"></a>Vignettes</h2>
<p>The following vignettes describe the functionality and utility of the package in more detail:</p>
<ol>
<li>
<a href="https://dclaz.github.io/mELO/articles/01_introduction.html">Introduction</a>. An introduction to the <strong>mELO</strong> package with examples for evaluating agents with cyclic and other more complex non-transitive interaction properties.</li>
<li>
<a href="https://dclaz.github.io/mELO/articles/02_afl.html">Application to AFL matches</a>. An investigation of whether there is any evidence of non-transitive relationships in AFL match outcomes.</li>
<li>
<a href="https://dclaz.github.io/mELO/articles/03_noise.html">Impact of noisy or probabilistic outcomes in mELO models</a>. An investigation into how noise or probabilistic outcomes impacts the estimation abilities and/or the prediction accuracy of a mELO model.</li>
</ol>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>The example below demonstrates how a ratings model can be fit using the <code><a href="reference/ELO.html">ELO()</a></code> and <code><a href="reference/mELO.html">mELO()</a></code> functions.</p>
<p>We will fit models to predict the outcome of <strong>rock-paper-scissor</strong> matches. It contains 120 matches.</p>
<p align="center">
</p>
<p><img src="articles/images/rps.png"></p>

<div class="sourceCode" id="cb3"><pre class="r"><span class="co"># Inspect rock paper scissors data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">rps_df</span>)
<span class="co">#&gt;   time_index  throw_1  throw_2 outcome</span>
<span class="co">#&gt; 1          1    PAPER     ROCK       1</span>
<span class="co">#&gt; 2          2     ROCK SCISSORS       1</span>
<span class="co">#&gt; 3          3 SCISSORS    PAPER       1</span>
<span class="co">#&gt; 4          4     ROCK    PAPER       0</span>
<span class="co">#&gt; 5          5 SCISSORS     ROCK       0</span>
<span class="co">#&gt; 6          6    PAPER SCISSORS       0</span>

<span class="co"># Fit ELO model</span>
<span class="no">rps_ELO</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/ELO.html">ELO</a></span>(<span class="no">rps_df</span>)

<span class="co"># Inspect modelled ratings</span>
<span class="no">rps_ELO</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ELO Ratings For 3 Players Playing 120 Games</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Player Rating Games Win Draw Loss Lag</span>
<span class="co">#&gt; 1 SCISSORS 2204.6    80  40    0   40   0</span>
<span class="co">#&gt; 2     ROCK 2204.6    80  40    0   40   1</span>
<span class="co">#&gt; 3    PAPER 2190.7    80  40    0   40   0</span>

<span class="co"># Get predictions</span>
<span class="no">ELO_preds</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(
    <span class="no">rps_ELO</span>,
    <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">rps_df</span>)
)

<span class="co"># Inspect outcomes and predictions</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(
    <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">rps_df</span>),
    <span class="kw">ELO_preds</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="no">ELO_preds</span>, <span class="fl">3</span>)
)
<span class="co">#&gt;   time_index  throw_1  throw_2 outcome ELO_preds</span>
<span class="co">#&gt; 1          1    PAPER     ROCK       1      0.48</span>
<span class="co">#&gt; 2          2     ROCK SCISSORS       1      0.50</span>
<span class="co">#&gt; 3          3 SCISSORS    PAPER       1      0.52</span>
<span class="co">#&gt; 4          4     ROCK    PAPER       0      0.52</span>
<span class="co">#&gt; 5          5 SCISSORS     ROCK       0      0.50</span>
<span class="co">#&gt; 6          6    PAPER SCISSORS       0      0.48</span></pre></div>
<p>We note that while the estimated ratings are roughly equal, the predicted probabilities are very poor. Elo cannot handle the cyclic, non-transitive nature of this system.</p>
<p>Let’s fit a <strong>multidimensional Elo</strong> model using <code><a href="reference/mELO.html">mELO()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="co"># Fit mELO model</span>
<span class="no">rps_mELO</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/mELO.html">mELO</a></span>(<span class="no">rps_df</span>, <span class="kw">k</span><span class="kw">=</span><span class="fl">1</span>)

<span class="co"># Inspect modelled ratings</span>
<span class="no">rps_mELO</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; mELO Ratings For 3 Players Playing 120 Games</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; k = 1.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Player Rating Games Win Draw Loss Lag</span>
<span class="co">#&gt; 1    PAPER 2200.7    80  40    0   40   0</span>
<span class="co">#&gt; 2 SCISSORS 2200.2    80  40    0   40   0</span>
<span class="co">#&gt; 3     ROCK 2199.2    80  40    0   40   1</span>

<span class="co"># Get predictions</span>
<span class="no">mELO_preds</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(
    <span class="no">rps_mELO</span>,
    <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">rps_df</span>)
)

<span class="co"># Inspect outcomes and predictions</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(
    <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">rps_df</span>),
    <span class="kw">mELO_preds</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="no">mELO_preds</span>, <span class="fl">3</span>)
)
<span class="co">#&gt;   time_index  throw_1  throw_2 outcome mELO_preds</span>
<span class="co">#&gt; 1          1    PAPER     ROCK       1      0.999</span>
<span class="co">#&gt; 2          2     ROCK SCISSORS       1      0.999</span>
<span class="co">#&gt; 3          3 SCISSORS    PAPER       1      0.999</span>
<span class="co">#&gt; 4          4     ROCK    PAPER       0      0.001</span>
<span class="co">#&gt; 5          5 SCISSORS     ROCK       0      0.001</span>
<span class="co">#&gt; 6          6    PAPER SCISSORS       0      0.001</span></pre></div>
<p>A convenient helper function has been provided to generate predictions for all interactions:</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="fu"><a href="reference/model_pred_mat.html">model_pred_mat</a></span>(
  <span class="no">rps_mELO</span>,
  <span class="no">rps_df</span><span class="kw">[[</span><span class="fl">2</span>]]
) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="fl">3</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>()</pre></div>
<table class="table">
<thead><tr class="header">
<th></th>
<th align="right">PAPER</th>
<th align="right">ROCK</th>
<th align="right">SCISSORS</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>PAPER</td>
<td align="right">0.500</td>
<td align="right">0.999</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td>ROCK</td>
<td align="right">0.001</td>
<td align="right">0.500</td>
<td align="right">0.999</td>
</tr>
<tr class="odd">
<td>SCISSORS</td>
<td align="right">0.999</td>
<td align="right">0.001</td>
<td align="right">0.500</td>
</tr>
</tbody>
</table>
<p>The mELO model with <code>k=1</code> <em>can</em> handle the cyclic, non-transitive nature of this system which results in much more accurate predictions. The <code>k</code> parameter determines the complexity of the non-transitive interactions that can be modelled.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/dclaz/mELO/">https://​github.com/​dclaz/​mELO/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>David Lazaridis <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by David Lazaridis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
